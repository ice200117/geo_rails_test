<!DOCTYPE html>

<html>
<head>
<meta charset="UTF-8">

<title>class QuerysController - RDoc Documentation</title>

<script type="text/javascript">
  var rdoc_rel_prefix = "./";
</script>

<script src="./js/jquery.js"></script>
<script src="./js/darkfish.js"></script>

<link href="./css/fonts.css" rel="stylesheet">
<link href="./css/rdoc.css" rel="stylesheet">



<body id="top" role="document" class="class">
<nav role="navigation">
  <div id="project-navigation">
    <div id="home-section" role="region" title="Quick navigation" class="nav-section">
  <h2>
    <a href="./index.html" rel="home">Home</a>
  </h2>

  <div id="table-of-contents-navigation">
    <a href="./table_of_contents.html#pages">Pages</a>
    <a href="./table_of_contents.html#classes">Classes</a>
    <a href="./table_of_contents.html#methods">Methods</a>
  </div>
</div>

    <div id="search-section" role="search" class="project-section initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <div id="search-field-wrapper">
      <input id="search-field" role="combobox" aria-label="Search"
             aria-autocomplete="list" aria-controls="search-results"
             type="text" name="search" placeholder="Search" spellcheck="false"
             title="Type to search, Up and Down to navigate, Enter to load">
    </div>

    <ul id="search-results" aria-label="Search Results"
        aria-busy="false" aria-expanded="false"
        aria-atomic="false" class="initially-hidden"></ul>
  </form>
</div>

  </div>

  

  <div id="class-metadata">
    
    <div id="parent-class-section" class="nav-section">
  <h3>Parent</h3>

  
  <p class="link"><a href="ApplicationController.html">ApplicationController</a>
  
</div>

    <div id="includes-section" class="nav-section">
  <h3>Included Modules</h3>

  <ul class="link-list">
  
  
    <li><span class="include">NumRu</span>
  
  
  </ul>
</div>

    
    <!-- Method Quickref -->
<div id="method-list-section" class="nav-section">
  <h3>Methods</h3>

  <ul class="link-list" role="directory">
    
    <li ><a href="#method-i-adj">#adj</a>
    
    <li ><a href="#method-i-adj_5days">#adj_5days</a>
    
    <li ><a href="#method-i-all_cities">#all_cities</a>
    
    <li ><a href="#method-i-all_cities2">#all_cities2</a>
    
    <li ><a href="#method-i-aqis_by_city">#aqis_by_city</a>
    
    <li ><a href="#method-i-aqis_by_cityid">#aqis_by_cityid</a>
    
    <li ><a href="#method-i-cities">#cities</a>
    
    <li ><a href="#method-i-get_real_weahter">#get_real_weahter</a>
    
    <li ><a href="#method-i-get_weather_air_data">#get_weather_air_data</a>
    
    <li ><a href="#method-i-monitor_data">#monitor_data</a>
    
    <li ><a href="#method-i-parse_xml">#parse_xml</a>
    
  </ul>
</div>

  </div>
</nav>

<main role="main" aria-labelledby="class-QuerysController">
  <h1 id="class-QuerysController" class="class">
    class QuerysController
  </h1>

  <section class="description">
    
  </section>

  
  
  
  <section id="5Buntitled-5D" class="documentation-section">
    

    

    

    

    
     <section id="public-instance-5Buntitled-5D-method-details" class="method-section">
       <header>
         <h3>Public Instance Methods</h3>
       </header>

    
      <div id="method-i-adj" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">adj</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="adj-source">
            <pre><span class="ruby-comment"># File app/controllers/querys_controller.rb, line 69</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">adj</span>
        <span class="ruby-keyword">if</span> <span class="ruby-identifier">params</span>[<span class="ruby-value">:var</span>]
                <span class="ruby-identifier">varnames</span> = [<span class="ruby-identifier">params</span>[<span class="ruby-value">:var</span>]]
        <span class="ruby-keyword">else</span>
                <span class="ruby-identifier">varnames</span> = [<span class="ruby-string">&quot;CO_120&quot;</span>, <span class="ruby-string">&quot;NOX_120&quot;</span>, <span class="ruby-string">&quot;SO2_120&quot;</span>]
        <span class="ruby-keyword">end</span>
        <span class="ruby-comment">#puts varnames</span>
        <span class="ruby-identifier">path</span> = <span class="ruby-string">&#39;/mnt/share/Temp/BackupADJ/&#39;</span>
        <span class="ruby-comment">#if @@alt</span>
        <span class="ruby-comment">#  @@alt = false</span>
        <span class="ruby-comment">#  puts &#39;langfang&#39;</span>
        <span class="ruby-comment">#  path = &#39;/mnt/share/Temp/BackupADJ/&#39;</span>
        <span class="ruby-comment">#else</span>
        <span class="ruby-comment">#  @@alt = true</span>
        <span class="ruby-comment">#  puts &#39;baoding&#39;</span>
        <span class="ruby-comment">#  path = &#39;/mnt/share/Temp/BackupADJ_baoding/&#39;</span>
        <span class="ruby-comment">#end</span>
        <span class="ruby-identifier">nt</span> = <span class="ruby-constant">Time</span>.<span class="ruby-identifier">now</span>
        <span class="ruby-identifier">i</span> = <span class="ruby-value">0</span>
        <span class="ruby-keyword">begin</span>
                <span class="ruby-comment">#puts i</span>
                <span class="ruby-identifier">strtime</span> = (<span class="ruby-identifier">nt</span><span class="ruby-operator">-</span><span class="ruby-value">60</span><span class="ruby-operator">*</span><span class="ruby-value">60</span><span class="ruby-operator">*</span><span class="ruby-value">24</span><span class="ruby-operator">*</span><span class="ruby-identifier">i</span>).<span class="ruby-identifier">strftime</span>(<span class="ruby-string">&quot;%Y-%m-%d&quot;</span>)
                <span class="ruby-identifier">ncfile</span> = <span class="ruby-identifier">path</span> <span class="ruby-operator">+</span> <span class="ruby-string">&#39;CUACE_09km_adj_&#39;</span><span class="ruby-operator">+</span><span class="ruby-identifier">strtime</span><span class="ruby-operator">+</span><span class="ruby-string">&#39;.nc&#39;</span>
                <span class="ruby-identifier">i</span> = <span class="ruby-identifier">i</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span>
        <span class="ruby-keyword">end</span> <span class="ruby-keyword">until</span> <span class="ruby-constant">File</span><span class="ruby-operator">::</span><span class="ruby-identifier">exists?</span>(<span class="ruby-identifier">ncfile</span>)

        <span class="ruby-comment">#puts ncfile</span>
        <span class="ruby-identifier">file</span> = <span class="ruby-constant">NetCDF</span>.<span class="ruby-identifier">open</span>(<span class="ruby-identifier">ncfile</span>)
        <span class="ruby-ivar">@dataArr</span> = <span class="ruby-constant">Hash</span>.<span class="ruby-identifier">new</span>
        <span class="ruby-identifier">varnames</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">var</span><span class="ruby-operator">|</span>
                <span class="ruby-identifier">data</span> = <span class="ruby-identifier">file</span>.<span class="ruby-identifier">var</span>(<span class="ruby-identifier">var</span>).<span class="ruby-identifier">get</span>
                <span class="ruby-ivar">@dataArr</span>[<span class="ruby-identifier">var</span>] = <span class="ruby-identifier">data</span>[<span class="ruby-value">0</span><span class="ruby-operator">..</span><span class="ruby-value">-1</span>,<span class="ruby-value">0</span><span class="ruby-operator">..</span><span class="ruby-value">-1</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>].<span class="ruby-identifier">to_a</span>
        <span class="ruby-keyword">end</span>
        <span class="ruby-comment">#render json: @dataArr.to_json</span>
        <span class="ruby-identifier">respond_to</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">format</span><span class="ruby-operator">|</span>
                <span class="ruby-identifier">format</span>.<span class="ruby-identifier">html</span> { <span class="ruby-identifier">render</span> <span class="ruby-identifier">json</span><span class="ruby-operator">:</span> <span class="ruby-ivar">@dataArr</span>}
                <span class="ruby-keyword">if</span> <span class="ruby-identifier">params</span>[<span class="ruby-value">:callback</span>]
                        <span class="ruby-identifier">format</span>.<span class="ruby-identifier">js</span> { <span class="ruby-identifier">render</span> <span class="ruby-value">:json</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@dataArr</span>.<span class="ruby-identifier">to_json</span>, <span class="ruby-value">:callback</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">params</span>[<span class="ruby-value">:callback</span>] }
                <span class="ruby-keyword">else</span>
                        <span class="ruby-identifier">format</span>.<span class="ruby-identifier">json</span> { <span class="ruby-identifier">render</span> <span class="ruby-identifier">json</span><span class="ruby-operator">:</span> <span class="ruby-ivar">@dataArr</span>}
                <span class="ruby-keyword">end</span>
        <span class="ruby-keyword">end</span>

<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-adj_5days" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">adj_5days</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="adj_5days-source">
            <pre><span class="ruby-comment"># File app/controllers/querys_controller.rb, line 13</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">adj_5days</span>
        <span class="ruby-keyword">if</span> <span class="ruby-identifier">params</span>[<span class="ruby-value">:var</span>]
                <span class="ruby-identifier">varnames</span> = [<span class="ruby-identifier">params</span>[<span class="ruby-value">:var</span>]]
        <span class="ruby-keyword">else</span>
                <span class="ruby-identifier">varnames</span> = [<span class="ruby-string">&quot;CO_120&quot;</span>, <span class="ruby-string">&quot;NOX_120&quot;</span>, <span class="ruby-string">&quot;SO2_120&quot;</span>,
                   <span class="ruby-string">&quot;CO_96&quot;</span>, <span class="ruby-string">&quot;NOX_96&quot;</span>, <span class="ruby-string">&quot;SO2_96&quot;</span> , 
                   <span class="ruby-string">&quot;CO_72&quot;</span>, <span class="ruby-string">&quot;NOX_72&quot;</span>, <span class="ruby-string">&quot;SO2_72&quot;</span> , 
                   <span class="ruby-string">&quot;CO_48&quot;</span>, <span class="ruby-string">&quot;NOX_48&quot;</span>, <span class="ruby-string">&quot;SO2_48&quot;</span> ,
                   <span class="ruby-string">&quot;CO_24&quot;</span>, <span class="ruby-string">&quot;NOX_24&quot;</span>, <span class="ruby-string">&quot;SO2_24&quot;</span> ]
        <span class="ruby-keyword">end</span>
        <span class="ruby-comment">#puts varnames</span>
        <span class="ruby-identifier">path</span> = <span class="ruby-string">&#39;/mnt/share/Temp/BackupADJ/&#39;</span>

        <span class="ruby-keyword">if</span> <span class="ruby-identifier">params</span>[<span class="ruby-value">:city_name</span>]
                <span class="ruby-identifier">path</span> = <span class="ruby-string">&#39;/mnt/share/Temp/BackupADJ_baoding/&#39;</span>
        <span class="ruby-keyword">end</span>
        <span class="ruby-comment">#if @@alt</span>
        <span class="ruby-comment">#  @@alt = false</span>
        <span class="ruby-comment">#  puts &#39;langfang&#39;</span>
        <span class="ruby-comment">#  path = &#39;/mnt/share/Temp/BackupADJ/&#39;</span>
        <span class="ruby-comment">#else</span>
        <span class="ruby-comment">#  @@alt = true</span>
        <span class="ruby-comment">#  puts &#39;baoding&#39;</span>
        <span class="ruby-comment">#  path = &#39;/mnt/share/Temp/BackupADJ_baoding/&#39;</span>
        <span class="ruby-comment">#end</span>
        <span class="ruby-identifier">nt</span> = <span class="ruby-constant">Time</span>.<span class="ruby-identifier">now</span>
        <span class="ruby-identifier">i</span> = <span class="ruby-value">0</span>
        <span class="ruby-keyword">begin</span>
                <span class="ruby-comment">#puts i</span>
                <span class="ruby-identifier">strtime</span> = (<span class="ruby-identifier">nt</span><span class="ruby-operator">-</span><span class="ruby-value">60</span><span class="ruby-operator">*</span><span class="ruby-value">60</span><span class="ruby-operator">*</span><span class="ruby-value">24</span><span class="ruby-operator">*</span><span class="ruby-identifier">i</span>).<span class="ruby-identifier">strftime</span>(<span class="ruby-string">&quot;%Y-%m-%d&quot;</span>)
                <span class="ruby-identifier">ncfile</span> = <span class="ruby-identifier">path</span> <span class="ruby-operator">+</span> <span class="ruby-string">&#39;CUACE_09km_adj_&#39;</span><span class="ruby-operator">+</span><span class="ruby-identifier">strtime</span><span class="ruby-operator">+</span><span class="ruby-string">&#39;.nc&#39;</span>
                <span class="ruby-identifier">i</span> = <span class="ruby-identifier">i</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span>
        <span class="ruby-keyword">end</span> <span class="ruby-keyword">until</span> <span class="ruby-constant">File</span><span class="ruby-operator">::</span><span class="ruby-identifier">exists?</span>(<span class="ruby-identifier">ncfile</span>)

        <span class="ruby-comment">#puts ncfile</span>
        <span class="ruby-identifier">file</span> = <span class="ruby-constant">NetCDF</span>.<span class="ruby-identifier">open</span>(<span class="ruby-identifier">ncfile</span>)
        <span class="ruby-ivar">@dataArr</span> = <span class="ruby-constant">Hash</span>.<span class="ruby-identifier">new</span>
        <span class="ruby-identifier">varnames</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">var</span><span class="ruby-operator">|</span>
                <span class="ruby-identifier">data</span> = <span class="ruby-identifier">file</span>.<span class="ruby-identifier">var</span>(<span class="ruby-identifier">var</span>).<span class="ruby-identifier">get</span>
                <span class="ruby-ivar">@dataArr</span>[<span class="ruby-identifier">var</span>] = <span class="ruby-identifier">data</span>[<span class="ruby-value">0</span><span class="ruby-operator">..</span><span class="ruby-value">-1</span>,<span class="ruby-value">0</span><span class="ruby-operator">..</span><span class="ruby-value">-1</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>].<span class="ruby-identifier">to_a</span>
        <span class="ruby-keyword">end</span>
        <span class="ruby-comment">#render json: @dataArr.to_json</span>
        <span class="ruby-identifier">ret_data</span> = <span class="ruby-constant">Hash</span>.<span class="ruby-identifier">new</span>
        <span class="ruby-identifier">ret_data</span>[<span class="ruby-value">:time</span>]= <span class="ruby-identifier">strtime</span> 
        <span class="ruby-identifier">ret_data</span>[<span class="ruby-value">:data</span>]= <span class="ruby-ivar">@dataArr</span> 
        <span class="ruby-identifier">respond_to</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">format</span><span class="ruby-operator">|</span>
                <span class="ruby-identifier">format</span>.<span class="ruby-identifier">html</span> { <span class="ruby-identifier">render</span> <span class="ruby-identifier">json</span><span class="ruby-operator">:</span> <span class="ruby-identifier">ret_data</span>}
                <span class="ruby-keyword">if</span> <span class="ruby-identifier">params</span>[<span class="ruby-value">:callback</span>]
                        <span class="ruby-identifier">format</span>.<span class="ruby-identifier">js</span> { <span class="ruby-identifier">render</span> <span class="ruby-value">:json</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">ret_data</span>.<span class="ruby-identifier">to_json</span>, <span class="ruby-value">:callback</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">params</span>[<span class="ruby-value">:callback</span>] }
                <span class="ruby-keyword">else</span>
                        <span class="ruby-identifier">format</span>.<span class="ruby-identifier">json</span> { <span class="ruby-identifier">render</span> <span class="ruby-identifier">json</span><span class="ruby-operator">:</span> <span class="ruby-identifier">ret_data</span>}
                <span class="ruby-keyword">end</span>
        <span class="ruby-keyword">end</span>

<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-all_cities" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">all_cities</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="all_cities-source">
            <pre><span class="ruby-comment"># File app/controllers/querys_controller.rb, line 148</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">all_cities</span>
        <span class="ruby-identifier">achf</span> = []
        <span class="ruby-identifier">cs</span> = <span class="ruby-constant">City</span>.<span class="ruby-identifier">where</span>(<span class="ruby-string">&quot;id &lt; 388&quot;</span>)
        <span class="ruby-identifier">cs</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">c</span><span class="ruby-operator">|</span>
                <span class="ruby-identifier">cf</span> = <span class="ruby-constant">Hash</span>.<span class="ruby-identifier">new</span>
                <span class="ruby-identifier">hf</span> = []
                <span class="ruby-comment">#hs = c.hourly_city_forecast_air_qualities.order(publish_datetime: :desc).limit(120).where(&quot;forecast_datetime &gt; ?&quot;, Time.now)</span>
                <span class="ruby-identifier">hs</span> = <span class="ruby-identifier">c</span>.<span class="ruby-identifier">hourly_city_forecast_air_qualities</span>.<span class="ruby-identifier">order</span>(<span class="ruby-value">:publish_datetime</span>).<span class="ruby-identifier">last</span>(<span class="ruby-value">120</span>)
                <span class="ruby-keyword">return</span> <span class="ruby-keyword">nil</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">hs</span>.<span class="ruby-identifier">first</span>
                <span class="ruby-identifier">cf</span>[<span class="ruby-value">:city_name</span>] = <span class="ruby-identifier">c</span>.<span class="ruby-identifier">city_name</span>
                <span class="ruby-identifier">cf</span>[<span class="ruby-value">:publish_datetime</span>] = <span class="ruby-identifier">hs</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">publish_datetime</span>.<span class="ruby-identifier">strftime</span>(<span class="ruby-string">&#39;%Y-%m-%d_%H&#39;</span>)
                <span class="ruby-comment">#      cf[:update_time] = Time.now.strftime(&#39;%Y-%m-%d_%H&#39;)</span>
                <span class="ruby-identifier">hs</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">ch</span><span class="ruby-operator">|</span>
                        <span class="ruby-keyword">if</span> <span class="ruby-identifier">ch</span>.<span class="ruby-identifier">forecast_datetime</span> <span class="ruby-operator">&gt;</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">now</span>
                                <span class="ruby-comment">#    ch.AQI = (ch.AQI**2 *0.0004 + 0.3314*ch.AQI - 32.231 ).round if c.city_name_pinyin==&#39;taiyuanshi&#39;</span>
                                <span class="ruby-identifier">hf</span> <span class="ruby-operator">&lt;&lt;</span> {<span class="ruby-identifier">forecast_datetime</span><span class="ruby-operator">:</span> <span class="ruby-identifier">ch</span>.<span class="ruby-identifier">forecast_datetime</span>.<span class="ruby-identifier">strftime</span>(<span class="ruby-string">&#39;%Y-%m-%d_%H&#39;</span>), 
                <span class="ruby-constant">AQI</span><span class="ruby-operator">:</span> <span class="ruby-identifier">ch</span>.<span class="ruby-constant">AQI</span>.<span class="ruby-identifier">round</span>, 
                <span class="ruby-identifier">main_pol</span><span class="ruby-operator">:</span> <span class="ruby-identifier">ch</span>.<span class="ruby-identifier">main_pol</span>, 
                <span class="ruby-identifier">grade</span><span class="ruby-operator">:</span> <span class="ruby-identifier">ch</span>.<span class="ruby-identifier">grade</span>,
                <span class="ruby-identifier">pm2_5</span><span class="ruby-operator">:</span> <span class="ruby-identifier">ch</span>.<span class="ruby-identifier">pm25</span>,
                <span class="ruby-identifier">pm10</span><span class="ruby-operator">:</span> <span class="ruby-identifier">ch</span>.<span class="ruby-identifier">pm10</span>,
                <span class="ruby-constant">SO2</span><span class="ruby-operator">:</span> <span class="ruby-identifier">ch</span>.<span class="ruby-constant">SO2</span>,
                <span class="ruby-constant">CO</span><span class="ruby-operator">:</span> <span class="ruby-identifier">ch</span>.<span class="ruby-constant">CO</span>,
                <span class="ruby-constant">NO2</span><span class="ruby-operator">:</span> <span class="ruby-identifier">ch</span>.<span class="ruby-constant">NO2</span>,
                <span class="ruby-constant">O3</span><span class="ruby-operator">:</span> <span class="ruby-identifier">ch</span>.<span class="ruby-constant">O3</span>,
                <span class="ruby-constant">VIS</span><span class="ruby-operator">:</span> <span class="ruby-identifier">ch</span>.<span class="ruby-constant">VIS</span> }
                        <span class="ruby-keyword">end</span>
                <span class="ruby-keyword">end</span>
                <span class="ruby-identifier">cf</span>[<span class="ruby-value">:forecast_data</span>] = <span class="ruby-identifier">hf</span>
                <span class="ruby-identifier">achf</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">cf</span>
        <span class="ruby-keyword">end</span>

        <span class="ruby-identifier">render</span> <span class="ruby-identifier">json</span><span class="ruby-operator">:</span> <span class="ruby-identifier">achf</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-all_cities2" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">all_cities2</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="all_cities2-source">
            <pre><span class="ruby-comment"># File app/controllers/querys_controller.rb, line 135</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">all_cities2</span>
        <span class="ruby-identifier">achf</span> = []
        <span class="ruby-identifier">ac</span> = <span class="ruby-constant">City</span>.<span class="ruby-identifier">where</span>(<span class="ruby-string">&quot;id &lt; 388&quot;</span>)<span class="ruby-comment">#.pluck(:city_name_pinyin)</span>
        <span class="ruby-identifier">h</span> = <span class="ruby-constant">HourlyCityForecastAirQuality</span>.<span class="ruby-identifier">new</span>
        <span class="ruby-identifier">ac</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">c</span><span class="ruby-operator">|</span>
                <span class="ruby-identifier">ch</span> = <span class="ruby-identifier">h</span>.<span class="ruby-identifier">city_forecast</span>(<span class="ruby-identifier">c</span>) 
                <span class="ruby-identifier">achf</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">ch</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">ch</span>
        <span class="ruby-keyword">end</span>

        <span class="ruby-identifier">puts</span> <span class="ruby-identifier">achf</span>
        <span class="ruby-identifier">render</span> <span class="ruby-identifier">json</span><span class="ruby-operator">:</span> <span class="ruby-identifier">achf</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-aqis_by_city" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">aqis_by_city</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="aqis_by_city-source">
            <pre><span class="ruby-comment"># File app/controllers/querys_controller.rb, line 114</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">aqis_by_city</span>
        <span class="ruby-identifier">pinyin</span> = <span class="ruby-identifier">params</span>[<span class="ruby-value">:city</span>]
        <span class="ruby-identifier">h</span> = <span class="ruby-constant">HourlyCityForecastAirQuality</span>.<span class="ruby-identifier">new</span>
        <span class="ruby-identifier">chf</span> = <span class="ruby-identifier">h</span>.<span class="ruby-identifier">city_forecast_by_pinyin</span>(<span class="ruby-identifier">pinyin</span>)
        <span class="ruby-identifier">render</span> <span class="ruby-identifier">json</span><span class="ruby-operator">:</span> <span class="ruby-identifier">chf</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-aqis_by_cityid" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">aqis_by_cityid</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>获取预报信息 参数：cityid</p>
          
          

          
          <div class="method-source-code" id="aqis_by_cityid-source">
            <pre><span class="ruby-comment"># File app/controllers/querys_controller.rb, line 121</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">aqis_by_cityid</span>
        <span class="ruby-identifier">cityid</span> = <span class="ruby-identifier">params</span>[<span class="ruby-value">:cityid</span>]
        <span class="ruby-identifier">h</span> = <span class="ruby-constant">HourlyCityForecastAirQuality</span>.<span class="ruby-identifier">new</span>
        <span class="ruby-identifier">chf</span> = <span class="ruby-identifier">h</span>.<span class="ruby-identifier">city_forecast_by_id</span>(<span class="ruby-identifier">cityid</span>)
        <span class="ruby-identifier">render</span> <span class="ruby-identifier">json</span><span class="ruby-operator">:</span> <span class="ruby-identifier">chf</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-cities" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">cities</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="cities-source">
            <pre><span class="ruby-comment"># File app/controllers/querys_controller.rb, line 130</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">cities</span>
        <span class="ruby-identifier">cs</span> = <span class="ruby-constant">City</span>.<span class="ruby-identifier">pluck</span>(<span class="ruby-value">:city_name</span>, <span class="ruby-value">:city_name_pinyin</span>)
        <span class="ruby-identifier">render</span> <span class="ruby-identifier">json</span><span class="ruby-operator">:</span> <span class="ruby-identifier">cs</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-get_real_weahter" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">get_real_weahter</span><span
            class="method-args">(city_number)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="get_real_weahter-source">
            <pre><span class="ruby-comment"># File app/controllers/querys_controller.rb, line 199</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">get_real_weahter</span>(<span class="ruby-identifier">city_number</span>)
        <span class="ruby-identifier">xmldoc</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>(<span class="ruby-identifier">open</span>(<span class="ruby-string">&#39;http://wthrcdn.etouch.cn/WeatherApi?citykey=&#39;</span><span class="ruby-operator">+</span><span class="ruby-identifier">city_number</span>.<span class="ruby-identifier">to_s</span>))

        <span class="ruby-identifier">weather</span> = {}
        <span class="ruby-comment"># 气象要素</span>
        <span class="ruby-identifier">elements</span> = <span class="ruby-node">%w[aqi updatetime wendu fengli shidu fengxiang sunrise_1 sunset_1 ]</span>
        <span class="ruby-identifier">elements</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">e</span><span class="ruby-operator">|</span>
                <span class="ruby-identifier">weather</span>[<span class="ruby-identifier">e</span>] = <span class="ruby-identifier">parse_xml</span>(<span class="ruby-identifier">xmldoc</span>, <span class="ruby-identifier">e</span>)
        <span class="ruby-keyword">end</span>
        <span class="ruby-identifier">weather</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-get_weather_air_data" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">get_weather_air_data</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="get_weather_air_data-source">
            <pre><span class="ruby-comment"># File app/controllers/querys_controller.rb, line 184</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">get_weather_air_data</span>
        <span class="ruby-identifier">city_number</span> = {<span class="ruby-identifier">北京</span><span class="ruby-value">101010100</span><span class="ruby-value">101010100</span>, <span class="ruby-identifier">朝阳区</span><span class="ruby-value">101010300</span><span class="ruby-value">101010300</span>, <span class="ruby-identifier">顺义</span><span class="ruby-value">101010400</span><span class="ruby-value">101010400</span>, <span class="ruby-identifier">怀柔</span><span class="ruby-value">101010500</span><span class="ruby-value">101010500</span>, <span class="ruby-identifier">通州</span><span class="ruby-value">101010600</span><span class="ruby-value">101010600</span>, <span class="ruby-identifier">昌平</span><span class="ruby-value">101010700</span><span class="ruby-value">101010700</span>, <span class="ruby-identifier">延庆</span><span class="ruby-value">101010800</span><span class="ruby-value">101010800</span>, <span class="ruby-identifier">丰台</span><span class="ruby-value">101010900</span><span class="ruby-value">101010900</span>, <span class="ruby-identifier">石景山</span><span class="ruby-value">101011000</span><span class="ruby-value">101011000</span>, <span class="ruby-identifier">大兴</span><span class="ruby-value">101011100</span><span class="ruby-value">101011100</span>, <span class="ruby-identifier">房山</span><span class="ruby-value">101011200</span><span class="ruby-value">101011200</span>, <span class="ruby-identifier">密云</span><span class="ruby-value">101011300</span><span class="ruby-value">101011300</span>, <span class="ruby-identifier">门头沟</span><span class="ruby-value">101011400</span><span class="ruby-value">101011400</span>, <span class="ruby-identifier">平谷</span><span class="ruby-value">101011500</span><span class="ruby-value">101011500</span>, <span class="ruby-identifier">八达岭</span><span class="ruby-value">101011600</span><span class="ruby-value">101011600</span>, <span class="ruby-identifier">佛爷顶</span><span class="ruby-value">101011700</span><span class="ruby-value">101011700</span>, <span class="ruby-identifier">汤河口</span><span class="ruby-value">101011800</span><span class="ruby-value">101011800</span>, <span class="ruby-identifier">密云上甸子</span><span class="ruby-value">101011900</span><span class="ruby-value">101011900</span>, <span class="ruby-identifier">斋堂</span><span class="ruby-value">101012000</span><span class="ruby-value">101012000</span>, <span class="ruby-identifier">霞云岭</span><span class="ruby-value">101012100</span><span class="ruby-value">101012100</span>, <span class="ruby-identifier">北京城区</span><span class="ruby-value">101012200</span><span class="ruby-value">101012200</span>, <span class="ruby-identifier">海淀</span><span class="ruby-value">101010200</span><span class="ruby-value">101010200</span>, <span class="ruby-identifier">天津</span><span class="ruby-value">101030100</span><span class="ruby-value">101030100</span>, <span class="ruby-identifier">宝坻</span><span class="ruby-value">101030300</span><span class="ruby-value">101030300</span>, <span class="ruby-identifier">东丽</span><span class="ruby-value">101030400</span><span class="ruby-value">101030400</span>, <span class="ruby-identifier">西青</span><span class="ruby-value">101030500</span><span class="ruby-value">101030500</span>, <span class="ruby-identifier">北辰</span><span class="ruby-value">101030600</span><span class="ruby-value">101030600</span>, <span class="ruby-identifier">蓟县</span><span class="ruby-value">101031400</span><span class="ruby-value">101031400</span>, <span class="ruby-identifier">汉沽</span><span class="ruby-value">101030800</span><span class="ruby-value">101030800</span>, <span class="ruby-identifier">静海</span><span class="ruby-value">101030900</span><span class="ruby-value">101030900</span>, <span class="ruby-identifier">津南</span><span class="ruby-value">101031000</span><span class="ruby-value">101031000</span>, <span class="ruby-identifier">塘沽</span><span class="ruby-value">101031100</span><span class="ruby-value">101031100</span>, <span class="ruby-identifier">大港</span><span class="ruby-value">101031200</span><span class="ruby-value">101031200</span>, <span class="ruby-identifier">武清</span><span class="ruby-value">101030200</span><span class="ruby-value">101030200</span>, <span class="ruby-identifier">宁河</span><span class="ruby-value">101030700</span><span class="ruby-value">101030700</span>, <span class="ruby-identifier">上海</span><span class="ruby-value">101020100</span><span class="ruby-value">101020100</span>, <span class="ruby-identifier">宝山</span><span class="ruby-value">101020300</span><span class="ruby-value">101020300</span>, <span class="ruby-identifier">嘉定</span><span class="ruby-value">101020500</span><span class="ruby-value">101020500</span>, <span class="ruby-identifier">南汇</span><span class="ruby-value">101020600</span><span class="ruby-value">101020600</span>, <span class="ruby-identifier">浦东</span><span class="ruby-value">101021300</span><span class="ruby-value">101021300</span>, <span class="ruby-identifier">青浦</span><span class="ruby-value">101020800</span><span class="ruby-value">101020800</span>, <span class="ruby-identifier">松江</span><span class="ruby-value">101020900</span><span class="ruby-value">101020900</span>, <span class="ruby-identifier">奉贤</span><span class="ruby-value">101021000</span><span class="ruby-value">101021000</span>, <span class="ruby-identifier">崇明</span><span class="ruby-value">101021100</span><span class="ruby-value">101021100</span>, <span class="ruby-identifier">徐家汇</span><span class="ruby-value">101021200</span><span class="ruby-value">101021200</span>, <span class="ruby-identifier">闵行</span><span class="ruby-value">101020200</span><span class="ruby-value">101020200</span>, <span class="ruby-identifier">金山</span><span class="ruby-value">101020700</span><span class="ruby-value">101020700</span>, <span class="ruby-identifier">石家庄</span><span class="ruby-value">101090101</span><span class="ruby-value">101090101</span>, <span class="ruby-identifier">张家口</span><span class="ruby-value">101090301</span><span class="ruby-value">101090301</span>, <span class="ruby-identifier">承德</span><span class="ruby-value">101090402</span><span class="ruby-value">101090402</span>, <span class="ruby-identifier">唐山</span><span class="ruby-value">101090501</span><span class="ruby-value">101090501</span>, <span class="ruby-identifier">秦皇岛</span><span class="ruby-value">101091101</span><span class="ruby-value">101091101</span>, <span class="ruby-identifier">沧州</span><span class="ruby-value">101090701</span><span class="ruby-value">101090701</span>, <span class="ruby-identifier">衡水</span><span class="ruby-value">101090801</span><span class="ruby-value">101090801</span>, <span class="ruby-identifier">邢台</span><span class="ruby-value">101090901</span><span class="ruby-value">101090901</span>, <span class="ruby-identifier">邯郸</span><span class="ruby-value">101091001</span><span class="ruby-value">101091001</span>, <span class="ruby-identifier">保定</span><span class="ruby-value">101090201</span><span class="ruby-value">101090201</span>, <span class="ruby-identifier">廊坊</span><span class="ruby-value">101090601</span><span class="ruby-value">101090601</span>, <span class="ruby-identifier">郑州</span><span class="ruby-value">101180101</span><span class="ruby-value">101180101</span>, <span class="ruby-identifier">新乡</span><span class="ruby-value">101180301</span><span class="ruby-value">101180301</span>, <span class="ruby-identifier">许昌</span><span class="ruby-value">101180401</span><span class="ruby-value">101180401</span>, <span class="ruby-identifier">平顶山</span><span class="ruby-value">101180501</span><span class="ruby-value">101180501</span>, <span class="ruby-identifier">信阳</span><span class="ruby-value">101180601</span><span class="ruby-value">101180601</span>, <span class="ruby-identifier">南阳</span><span class="ruby-value">101180701</span><span class="ruby-value">101180701</span>, <span class="ruby-identifier">开封</span><span class="ruby-value">101180801</span><span class="ruby-value">101180801</span>, <span class="ruby-identifier">洛阳</span><span class="ruby-value">101180901</span><span class="ruby-value">101180901</span>, <span class="ruby-identifier">商丘</span><span class="ruby-value">101181001</span><span class="ruby-value">101181001</span>, <span class="ruby-identifier">焦作</span><span class="ruby-value">101181101</span><span class="ruby-value">101181101</span>, <span class="ruby-identifier">鹤壁</span><span class="ruby-value">101181201</span><span class="ruby-value">101181201</span>, <span class="ruby-identifier">濮阳</span><span class="ruby-value">101181301</span><span class="ruby-value">101181301</span>, <span class="ruby-identifier">周口</span><span class="ruby-value">101181401</span><span class="ruby-value">101181401</span>, <span class="ruby-identifier">漯河</span><span class="ruby-value">101181501</span><span class="ruby-value">101181501</span>, <span class="ruby-identifier">驻马店</span><span class="ruby-value">101181601</span><span class="ruby-value">101181601</span>, <span class="ruby-identifier">三门峡</span><span class="ruby-value">101181701</span><span class="ruby-value">101181701</span>, <span class="ruby-identifier">济源</span><span class="ruby-value">101181801</span><span class="ruby-value">101181801</span>, <span class="ruby-identifier">安阳</span><span class="ruby-value">101180201</span><span class="ruby-value">101180201</span>, <span class="ruby-identifier">合肥</span><span class="ruby-value">101220101</span><span class="ruby-value">101220101</span>, <span class="ruby-identifier">芜湖</span><span class="ruby-value">101220301</span><span class="ruby-value">101220301</span>, <span class="ruby-identifier">淮南</span><span class="ruby-value">101220401</span><span class="ruby-value">101220401</span>, <span class="ruby-identifier">马鞍山</span><span class="ruby-value">101220501</span><span class="ruby-value">101220501</span>, <span class="ruby-identifier">安庆</span><span class="ruby-value">101220601</span><span class="ruby-value">101220601</span>, <span class="ruby-identifier">宿州</span><span class="ruby-value">101220701</span><span class="ruby-value">101220701</span>, <span class="ruby-identifier">阜阳</span><span class="ruby-value">101220801</span><span class="ruby-value">101220801</span>, <span class="ruby-identifier">亳州</span><span class="ruby-value">101220901</span><span class="ruby-value">101220901</span>, <span class="ruby-identifier">黄山</span><span class="ruby-value">101221001</span><span class="ruby-value">101221001</span>, <span class="ruby-identifier">滁州</span><span class="ruby-value">101221101</span><span class="ruby-value">101221101</span>, <span class="ruby-identifier">淮北</span><span class="ruby-value">101221201</span><span class="ruby-value">101221201</span>, <span class="ruby-identifier">铜陵</span><span class="ruby-value">101221301</span><span class="ruby-value">101221301</span>, <span class="ruby-identifier">宣城</span><span class="ruby-value">101221401</span><span class="ruby-identifier">city_number</span> = {<span class="ruby-identifier">北京</span><span class="ruby-value">101010100</span>, <span class="ruby-identifier">朝阳区</span><span class="ruby-value">101010300</span>, <span class="ruby-identifier">顺义</span><span class="ruby-value">101010400</span>, <span class="ruby-identifier">怀柔</span><span class="ruby-value">101010500</span>, <span class="ruby-identifier">通州</span><span class="ruby-value">101010600</span>, <span class="ruby-identifier">昌平</span><span class="ruby-value">101010700</span>, <span class="ruby-identifier">延庆</span><span class="ruby-value">101010800</span>, <span class="ruby-identifier">丰台</span><span class="ruby-value">101010900</span>, <span class="ruby-identifier">石景山</span><span class="ruby-value">101011000</span>, <span class="ruby-identifier">大兴</span><span class="ruby-value">101011100</span>, <span class="ruby-identifier">房山</span><span class="ruby-value">101011200</span>, <span class="ruby-identifier">密云</span><span class="ruby-value">101011300</span>, <span class="ruby-identifier">门头沟</span><span class="ruby-value">101011400</span>, <span class="ruby-identifier">平谷</span><span class="ruby-value">101011500</span>, <span class="ruby-identifier">八达岭</span><span class="ruby-value">101011600</span>, <span class="ruby-identifier">佛爷顶</span><span class="ruby-value">101011700</span>, <span class="ruby-identifier">汤河口</span><span class="ruby-value">101011800</span>, <span class="ruby-identifier">密云上甸子</span><span class="ruby-value">101011900</span>, <span class="ruby-identifier">斋堂</span><span class="ruby-value">101012000</span>, <span class="ruby-identifier">霞云岭</span><span class="ruby-value">101012100</span>, <span class="ruby-identifier">北京城区</span><span class="ruby-value">101012200</span>, <span class="ruby-identifier">海淀</span><span class="ruby-value">101010200</span>, <span class="ruby-identifier">天津</span><span class="ruby-value">101030100</span>, <span class="ruby-identifier">宝坻</span><span class="ruby-value">101030300</span>, <span class="ruby-identifier">东丽</span><span class="ruby-value">101030400</span>, <span class="ruby-identifier">西青</span><span class="ruby-value">101030500</span>, <span class="ruby-identifier">北辰</span><span class="ruby-value">101030600</span>, <span class="ruby-identifier">蓟县</span><span class="ruby-value">101031400</span>, <span class="ruby-identifier">汉沽</span><span class="ruby-value">101030800</span>, <span class="ruby-identifier">静海</span><span class="ruby-value">101030900</span>, <span class="ruby-identifier">津南</span><span class="ruby-value">101031000</span>, <span class="ruby-identifier">塘沽</span><span class="ruby-value">101031100</span>, <span class="ruby-identifier">大港</span><span class="ruby-value">101031200</span>, <span class="ruby-identifier">武清</span><span class="ruby-value">101030200</span>, <span class="ruby-identifier">宁河</span><span class="ruby-value">101030700</span>, <span class="ruby-identifier">上海</span><span class="ruby-value">101020100</span>, <span class="ruby-identifier">宝山</span><span class="ruby-value">101020300</span>, <span class="ruby-identifier">嘉定</span><span class="ruby-value">101020500</span>, <span class="ruby-identifier">南汇</span><span class="ruby-value">101020600</span>, <span class="ruby-identifier">浦东</span><span class="ruby-value">101021300</span>, <span class="ruby-identifier">青浦</span><span class="ruby-value">101020800</span>, <span class="ruby-identifier">松江</span><span class="ruby-value">101020900</span>, <span class="ruby-identifier">奉贤</span><span class="ruby-value">101021000</span>, <span class="ruby-identifier">崇明</span><span class="ruby-value">101021100</span>, <span class="ruby-identifier">徐家汇</span><span class="ruby-value">101021200</span>, <span class="ruby-identifier">闵行</span><span class="ruby-value">101020200</span>, <span class="ruby-identifier">金山</span><span class="ruby-value">101020700</span>, <span class="ruby-identifier">石家庄</span><span class="ruby-value">101090101</span>, <span class="ruby-identifier">张家口</span><span class="ruby-value">101090301</span>, <span class="ruby-identifier">承德</span><span class="ruby-value">101090402</span>, <span class="ruby-identifier">唐山</span><span class="ruby-value">101090501</span>, <span class="ruby-identifier">秦皇岛</span><span class="ruby-value">101091101</span>, <span class="ruby-identifier">沧州</span><span class="ruby-value">101090701</span>, <span class="ruby-identifier">衡水</span><span class="ruby-value">101090801</span>, <span class="ruby-identifier">邢台</span><span class="ruby-value">101090901</span>, <span class="ruby-identifier">邯郸</span><span class="ruby-value">101091001</span>, <span class="ruby-identifier">保定</span><span class="ruby-value">101090201</span>, <span class="ruby-identifier">廊坊</span><span class="ruby-value">101090601</span>, <span class="ruby-identifier">郑州</span><span class="ruby-value">101180101</span>, <span class="ruby-identifier">新乡</span><span class="ruby-value">101180301</span>, <span class="ruby-identifier">许昌</span><span class="ruby-value">101180401</span>, <span class="ruby-identifier">平顶山</span><span class="ruby-value">101180501</span>, <span class="ruby-identifier">信阳</span><span class="ruby-value">101180601</span>, <span class="ruby-identifier">南阳</span><span class="ruby-value">101180701</span>, <span class="ruby-identifier">开封</span><span class="ruby-value">101180801</span>, <span class="ruby-identifier">洛阳</span><span class="ruby-value">101180901</span>, <span class="ruby-identifier">商丘</span><span class="ruby-value">101181001</span>, <span class="ruby-identifier">焦作</span><span class="ruby-value">101181101</span>, <span class="ruby-identifier">鹤壁</span><span class="ruby-value">101181201</span>, <span class="ruby-identifier">濮阳</span><span class="ruby-value">101181301</span>, <span class="ruby-identifier">周口</span><span class="ruby-value">101181401</span>, <span class="ruby-identifier">漯河</span><span class="ruby-value">101181501</span>, <span class="ruby-identifier">驻马店</span><span class="ruby-value">101181601</span>, <span class="ruby-identifier">三门峡</span><span class="ruby-value">101181701</span>, <span class="ruby-identifier">济源</span><span class="ruby-value">101181801</span>, <span class="ruby-identifier">安阳</span><span class="ruby-value">101180201</span>, <span class="ruby-identifier">合肥</span><span class="ruby-value">101220101</span>, <span class="ruby-identifier">芜湖</span><span class="ruby-value">101220301</span>, <span class="ruby-identifier">淮南</span><span class="ruby-value">101220401</span>, <span class="ruby-identifier">马鞍山</span><span class="ruby-value">101220501</span>, <span class="ruby-identifier">安庆</span><span class="ruby-value">101220601</span>, <span class="ruby-identifier">宿州</span><span class="ruby-value">101220701</span>, <span class="ruby-identifier">阜阳</span><span class="ruby-value">101220801</span>, <span class="ruby-identifier">亳州</span><span class="ruby-value">101220901</span>, <span class="ruby-identifier">黄山</span><span class="ruby-value">101221001</span>, <span class="ruby-identifier">滁州</span><span class="ruby-value">101221101</span>, <span class="ruby-identifier">淮北</span><span class="ruby-value">101221201</span>, <span class="ruby-identifier">铜陵</span><span class="ruby-value">101221301</span>, <span class="ruby-identifier">宣城</span><span class="ruby-value">101221401</span>, <span class="ruby-identifier">六安</span><span class="ruby-value">101221501</span>, <span class="ruby-identifier">巢湖</span><span class="ruby-value">101221601</span>, <span class="ruby-identifier">池州</span><span class="ruby-value">101221701</span>, <span class="ruby-identifier">蚌埠</span><span class="ruby-value">101220201</span>, <span class="ruby-identifier">杭州</span><span class="ruby-value">101210101</span>, <span class="ruby-identifier">舟山</span><span class="ruby-value">101211101</span>, <span class="ruby-identifier">湖州</span><span class="ruby-value">101210201</span>, <span class="ruby-identifier">嘉兴</span><span class="ruby-value">101210301</span>, <span class="ruby-identifier">金华</span><span class="ruby-value">101210901</span>, <span class="ruby-identifier">绍兴</span><span class="ruby-value">101210501</span>, <span class="ruby-identifier">台州</span><span class="ruby-value">101210601</span>, <span class="ruby-identifier">温州</span><span class="ruby-value">101210701</span>, <span class="ruby-identifier">丽水</span><span class="ruby-value">101210801</span>, <span class="ruby-identifier">衢州</span><span class="ruby-value">101211001</span>, <span class="ruby-identifier">宁波</span><span class="ruby-value">101210401</span>, <span class="ruby-identifier">重庆</span><span class="ruby-value">101040100</span>, <span class="ruby-identifier">合川</span><span class="ruby-value">101040300</span>, <span class="ruby-identifier">南川</span><span class="ruby-value">101040400</span>, <span class="ruby-identifier">江津</span><span class="ruby-value">101040500</span>, <span class="ruby-identifier">万盛</span><span class="ruby-value">101040600</span>, <span class="ruby-identifier">渝北</span><span class="ruby-value">101040700</span>, <span class="ruby-identifier">北碚</span><span class="ruby-value">101040800</span>, <span class="ruby-identifier">巴南</span><span class="ruby-value">101040900</span>, <span class="ruby-identifier">长寿</span><span class="ruby-value">101041000</span>, <span class="ruby-identifier">黔江</span><span class="ruby-value">101041100</span>, <span class="ruby-identifier">万州天城</span><span class="ruby-value">101041200</span>, <span class="ruby-identifier">万州龙宝</span><span class="ruby-value">101041300</span>, <span class="ruby-identifier">涪陵</span><span class="ruby-value">101041400</span>, <span class="ruby-identifier">开县</span><span class="ruby-value">101041500</span>, <span class="ruby-identifier">城口</span><span class="ruby-value">101041600</span>, <span class="ruby-identifier">云阳</span><span class="ruby-value">101041700</span>, <span class="ruby-identifier">巫溪</span><span class="ruby-value">101041800</span>, <span class="ruby-identifier">奉节</span><span class="ruby-value">101041900</span>, <span class="ruby-identifier">巫山</span><span class="ruby-value">101042000</span>, <span class="ruby-identifier">潼南</span><span class="ruby-value">101042100</span>, <span class="ruby-identifier">垫江</span><span class="ruby-value">101042200</span>, <span class="ruby-identifier">梁平</span><span class="ruby-value">101042300</span>, <span class="ruby-identifier">忠县</span><span class="ruby-value">101042400</span>, <span class="ruby-identifier">石柱</span><span class="ruby-value">101042500</span>, <span class="ruby-identifier">大足</span><span class="ruby-value">101042600</span>, <span class="ruby-identifier">荣昌</span><span class="ruby-value">101042700</span>, <span class="ruby-identifier">铜梁</span><span class="ruby-value">101042800</span>, <span class="ruby-identifier">璧山</span><span class="ruby-value">101042900</span>, <span class="ruby-identifier">丰都</span><span class="ruby-value">101043000</span>, <span class="ruby-identifier">武隆</span><span class="ruby-value">101043100</span>, <span class="ruby-identifier">彭水</span><span class="ruby-value">101043200</span>, <span class="ruby-identifier">綦江</span><span class="ruby-value">101043300</span>, <span class="ruby-identifier">酉阳</span><span class="ruby-value">101043400</span>, <span class="ruby-identifier">秀山</span><span class="ruby-value">101043600</span>, <span class="ruby-identifier">沙坪坝</span><span class="ruby-value">101043700</span>, <span class="ruby-identifier">永川</span><span class="ruby-value">101040200</span>, <span class="ruby-identifier">福州</span><span class="ruby-value">101230101</span>, <span class="ruby-identifier">泉州</span><span class="ruby-value">101230501</span>, <span class="ruby-identifier">漳州</span><span class="ruby-value">101230601</span>, <span class="ruby-identifier">龙岩</span><span class="ruby-value">101230701</span>, <span class="ruby-identifier">晋江</span><span class="ruby-value">101230509</span>, <span class="ruby-identifier">南平</span><span class="ruby-value">101230901</span>, <span class="ruby-identifier">厦门</span><span class="ruby-value">101230201</span>, <span class="ruby-identifier">宁德</span><span class="ruby-value">101230301</span>, <span class="ruby-identifier">莆田</span><span class="ruby-value">101230401</span>, <span class="ruby-identifier">三明</span><span class="ruby-value">101230801</span>, <span class="ruby-identifier">兰州</span><span class="ruby-value">101160101</span>, <span class="ruby-identifier">平凉</span><span class="ruby-value">101160301</span>, <span class="ruby-identifier">庆阳</span><span class="ruby-value">101160401</span>, <span class="ruby-identifier">武威</span><span class="ruby-value">101160501</span>, <span class="ruby-identifier">金昌</span><span class="ruby-value">101160601</span>, <span class="ruby-identifier">嘉峪关</span><span class="ruby-value">101161401</span>, <span class="ruby-identifier">酒泉</span><span class="ruby-value">101160801</span>, <span class="ruby-identifier">天水</span><span class="ruby-value">101160901</span>, <span class="ruby-identifier">武都</span><span class="ruby-value">101161001</span>, <span class="ruby-identifier">临夏</span><span class="ruby-value">101161101</span>, <span class="ruby-identifier">合作</span><span class="ruby-value">101161201</span>, <span class="ruby-identifier">白银</span><span class="ruby-value">101161301</span>, <span class="ruby-identifier">定西</span><span class="ruby-value">101160201</span>, <span class="ruby-identifier">张掖</span><span class="ruby-value">101160701</span>, <span class="ruby-identifier">广州</span><span class="ruby-value">101280101</span>, <span class="ruby-identifier">惠州</span><span class="ruby-value">101280301</span>, <span class="ruby-identifier">梅州</span><span class="ruby-value">101280401</span>, <span class="ruby-identifier">汕头</span><span class="ruby-value">101280501</span>, <span class="ruby-identifier">深圳</span><span class="ruby-value">101280601</span>, <span class="ruby-identifier">珠海</span><span class="ruby-value">101280701</span>, <span class="ruby-identifier">佛山</span><span class="ruby-value">101280800</span>, <span class="ruby-identifier">肇庆</span><span class="ruby-value">101280901</span>, <span class="ruby-identifier">湛江</span><span class="ruby-value">101281001</span>, <span class="ruby-identifier">江门</span><span class="ruby-value">101281101</span>, <span class="ruby-identifier">河源</span><span class="ruby-value">101281201</span>, <span class="ruby-identifier">清远</span><span class="ruby-value">101281301</span>, <span class="ruby-identifier">云浮</span><span class="ruby-value">101281401</span>, <span class="ruby-identifier">潮州</span><span class="ruby-value">101281501</span>, <span class="ruby-identifier">东莞</span><span class="ruby-value">101281601</span>, <span class="ruby-identifier">中山</span><span class="ruby-value">101281701</span>, <span class="ruby-identifier">阳江</span><span class="ruby-value">101281801</span>, <span class="ruby-identifier">揭阳</span><span class="ruby-value">101281901</span>, <span class="ruby-identifier">茂名</span><span class="ruby-value">101282001</span>, <span class="ruby-identifier">汕尾</span><span class="ruby-value">101282101</span>, <span class="ruby-identifier">韶关</span><span class="ruby-value">101280201</span>, <span class="ruby-identifier">南宁</span><span class="ruby-value">101300101</span>, <span class="ruby-identifier">柳州</span><span class="ruby-value">101300301</span>, <span class="ruby-identifier">来宾</span><span class="ruby-value">101300401</span>, <span class="ruby-identifier">桂林</span><span class="ruby-value">101300501</span>, <span class="ruby-identifier">梧州</span><span class="ruby-value">101300601</span>, <span class="ruby-identifier">防城港</span><span class="ruby-value">101301401</span>, <span class="ruby-identifier">贵港</span><span class="ruby-value">101300801</span>, <span class="ruby-identifier">玉林</span><span class="ruby-value">101300901</span>, <span class="ruby-identifier">百色</span><span class="ruby-value">101301001</span>, <span class="ruby-identifier">钦州</span><span class="ruby-value">101301101</span>, <span class="ruby-identifier">河池</span><span class="ruby-value">101301201</span>, <span class="ruby-identifier">北海</span><span class="ruby-value">101301301</span>, <span class="ruby-identifier">崇左</span><span class="ruby-value">101300201</span>, <span class="ruby-identifier">贺州</span><span class="ruby-value">101300701</span>, <span class="ruby-identifier">贵阳</span><span class="ruby-value">101260101</span>, <span class="ruby-identifier">安顺</span><span class="ruby-value">101260301</span>, <span class="ruby-identifier">都匀</span><span class="ruby-value">101260401</span>, <span class="ruby-identifier">兴义</span><span class="ruby-value">101260906</span>, <span class="ruby-identifier">铜仁</span><span class="ruby-value">101260601</span>, <span class="ruby-identifier">毕节</span><span class="ruby-value">101260701</span>, <span class="ruby-identifier">六盘水</span><span class="ruby-value">101260801</span>, <span class="ruby-identifier">遵义</span><span class="ruby-value">101260201</span>, <span class="ruby-identifier">凯里</span><span class="ruby-value">101260501</span>, <span class="ruby-identifier">昆明</span><span class="ruby-value">101290101</span>, <span class="ruby-identifier">红河</span><span class="ruby-value">101290301</span>, <span class="ruby-identifier">文山</span><span class="ruby-value">101290601</span>, <span class="ruby-identifier">玉溪</span><span class="ruby-value">101290701</span>, <span class="ruby-identifier">楚雄</span><span class="ruby-value">101290801</span>, <span class="ruby-identifier">普洱</span><span class="ruby-value">101290901</span>, <span class="ruby-identifier">昭通</span><span class="ruby-value">101291001</span>, <span class="ruby-identifier">临沧</span><span class="ruby-value">101291101</span>, <span class="ruby-identifier">怒江</span><span class="ruby-value">101291201</span>, <span class="ruby-identifier">香格里拉</span><span class="ruby-value">101291301</span>, <span class="ruby-identifier">丽江</span><span class="ruby-value">101291401</span>, <span class="ruby-identifier">德宏</span><span class="ruby-value">101291501</span>, <span class="ruby-identifier">景洪</span><span class="ruby-value">101291601</span>, <span class="ruby-identifier">大理</span><span class="ruby-value">101290201</span>, <span class="ruby-identifier">曲靖</span><span class="ruby-value">101290401</span>, <span class="ruby-identifier">保山</span><span class="ruby-value">101290501</span>, <span class="ruby-identifier">呼和浩特</span><span class="ruby-value">101080101</span>, <span class="ruby-identifier">乌海</span><span class="ruby-value">101080301</span>, <span class="ruby-identifier">集宁</span><span class="ruby-value">101080401</span>, <span class="ruby-identifier">通辽</span><span class="ruby-value">101080501</span>, <span class="ruby-identifier">阿拉善左旗</span><span class="ruby-value">101081201</span>, <span class="ruby-identifier">鄂尔多斯</span><span class="ruby-value">101080701</span>, <span class="ruby-identifier">临河</span><span class="ruby-value">101080801</span>, <span class="ruby-identifier">锡林浩特</span><span class="ruby-value">101080901</span>, <span class="ruby-identifier">呼伦贝尔</span><span class="ruby-value">101081000</span>, <span class="ruby-identifier">乌兰浩特</span><span class="ruby-value">101081101</span>, <span class="ruby-identifier">包头</span><span class="ruby-value">101080201</span>, <span class="ruby-identifier">赤峰</span><span class="ruby-value">101080601</span>, <span class="ruby-identifier">南昌</span><span class="ruby-value">101240101</span>, <span class="ruby-identifier">上饶</span><span class="ruby-value">101240301</span>, <span class="ruby-identifier">抚州</span><span class="ruby-value">101240401</span>, <span class="ruby-identifier">宜春</span><span class="ruby-value">101240501</span>, <span class="ruby-identifier">鹰潭</span><span class="ruby-value">101241101</span>, <span class="ruby-identifier">赣州</span><span class="ruby-value">101240701</span>, <span class="ruby-identifier">景德镇</span><span class="ruby-value">101240801</span>, <span class="ruby-identifier">萍乡</span><span class="ruby-value">101240901</span>, <span class="ruby-identifier">新余</span><span class="ruby-value">101241001</span>, <span class="ruby-identifier">九江</span><span class="ruby-value">101240201</span>, <span class="ruby-identifier">吉安</span><span class="ruby-value">101240601</span>, <span class="ruby-identifier">武汉</span><span class="ruby-value">101200101</span>, <span class="ruby-identifier">黄冈</span><span class="ruby-value">101200501</span>, <span class="ruby-identifier">荆州</span><span class="ruby-value">101200801</span>, <span class="ruby-identifier">宜昌</span><span class="ruby-value">101200901</span>, <span class="ruby-identifier">恩施</span><span class="ruby-value">101201001</span>, <span class="ruby-identifier">十堰</span><span class="ruby-value">101201101</span>, <span class="ruby-identifier">神农架</span><span class="ruby-value">101201201</span>, <span class="ruby-identifier">随州</span><span class="ruby-value">101201301</span>, <span class="ruby-identifier">荆门</span><span class="ruby-value">101201401</span>, <span class="ruby-identifier">天门</span><span class="ruby-value">101201501</span>, <span class="ruby-identifier">仙桃</span><span class="ruby-value">101201601</span>, <span class="ruby-identifier">潜江</span><span class="ruby-value">101201701</span>, <span class="ruby-identifier">襄樊</span><span class="ruby-value">101200201</span>, <span class="ruby-identifier">鄂州</span><span class="ruby-value">101200301</span>, <span class="ruby-identifier">孝感</span><span class="ruby-value">101200401</span>, <span class="ruby-identifier">黄石</span><span class="ruby-value">101200601</span>, <span class="ruby-identifier">咸宁</span><span class="ruby-value">101200701</span>, <span class="ruby-identifier">成都</span><span class="ruby-value">101270101</span>, <span class="ruby-identifier">自贡</span><span class="ruby-value">101270301</span>, <span class="ruby-identifier">绵阳</span><span class="ruby-value">101270401</span>, <span class="ruby-identifier">南充</span><span class="ruby-value">101270501</span>, <span class="ruby-identifier">达州</span><span class="ruby-value">101270601</span>, <span class="ruby-identifier">遂宁</span><span class="ruby-value">101270701</span>, <span class="ruby-identifier">广安</span><span class="ruby-value">101270801</span>, <span class="ruby-identifier">巴中</span><span class="ruby-value">101270901</span>, <span class="ruby-identifier">泸州</span><span class="ruby-value">101271001</span>, <span class="ruby-identifier">宜宾</span><span class="ruby-value">101271101</span>, <span class="ruby-identifier">内江</span><span class="ruby-value">101271201</span>, <span class="ruby-identifier">资阳</span><span class="ruby-value">101271301</span>, <span class="ruby-identifier">乐山</span><span class="ruby-value">101271401</span>, <span class="ruby-identifier">眉山</span><span class="ruby-value">101271501</span>, <span class="ruby-identifier">凉山</span><span class="ruby-value">101271601</span>, <span class="ruby-identifier">雅安</span><span class="ruby-value">101271701</span>, <span class="ruby-identifier">甘孜</span><span class="ruby-value">101271801</span>, <span class="ruby-identifier">阿坝</span><span class="ruby-value">101271901</span>, <span class="ruby-identifier">德阳</span><span class="ruby-value">101272001</span>, <span class="ruby-identifier">广元</span><span class="ruby-value">101272101</span>, <span class="ruby-identifier">攀枝花</span><span class="ruby-value">101270201</span>, <span class="ruby-identifier">银川</span><span class="ruby-value">101170101</span>, <span class="ruby-identifier">中卫</span><span class="ruby-value">101170501</span>, <span class="ruby-identifier">固原</span><span class="ruby-value">101170401</span>, <span class="ruby-identifier">石嘴山</span><span class="ruby-value">101170201</span>, <span class="ruby-identifier">吴忠</span><span class="ruby-value">101170301</span>, <span class="ruby-identifier">西宁</span><span class="ruby-value">101150101</span>, <span class="ruby-identifier">黄南</span><span class="ruby-value">101150301</span>, <span class="ruby-identifier">海北</span><span class="ruby-value">101150801</span>, <span class="ruby-identifier">果洛</span><span class="ruby-value">101150501</span>, <span class="ruby-identifier">玉树</span><span class="ruby-value">101150601</span>, <span class="ruby-identifier">海西</span><span class="ruby-value">101150701</span>, <span class="ruby-identifier">海东</span><span class="ruby-value">101150201</span>, <span class="ruby-identifier">海南</span><span class="ruby-value">101150401</span>, <span class="ruby-identifier">济南</span><span class="ruby-value">101120101</span>, <span class="ruby-identifier">潍坊</span><span class="ruby-value">101120601</span>, <span class="ruby-identifier">临沂</span><span class="ruby-value">101120901</span>, <span class="ruby-identifier">菏泽</span><span class="ruby-value">101121001</span>, <span class="ruby-identifier">滨州</span><span class="ruby-value">101121101</span>, <span class="ruby-identifier">东营</span><span class="ruby-value">101121201</span>, <span class="ruby-identifier">威海</span><span class="ruby-value">101121301</span>, <span class="ruby-identifier">枣庄</span><span class="ruby-value">101121401</span>, <span class="ruby-identifier">日照</span><span class="ruby-value">101121501</span>, <span class="ruby-identifier">莱芜</span><span class="ruby-value">101121601</span>, <span class="ruby-identifier">聊城</span><span class="ruby-value">101121701</span>, <span class="ruby-identifier">青岛</span><span class="ruby-value">101120201</span>, <span class="ruby-identifier">淄博</span><span class="ruby-value">101120301</span>, <span class="ruby-identifier">德州</span><span class="ruby-value">101120401</span>, <span class="ruby-identifier">烟台</span><span class="ruby-value">101120501</span>, <span class="ruby-identifier">济宁</span><span class="ruby-value">101120701</span>, <span class="ruby-identifier">泰安</span><span class="ruby-value">101120801</span>, <span class="ruby-identifier">西安</span><span class="ruby-value">101110101</span>, <span class="ruby-identifier">延安</span><span class="ruby-value">101110300</span>, <span class="ruby-identifier">榆林</span><span class="ruby-value">101110401</span>, <span class="ruby-identifier">铜川</span><span class="ruby-value">101111001</span>, <span class="ruby-identifier">商洛</span><span class="ruby-value">101110601</span>, <span class="ruby-identifier">安康</span><span class="ruby-value">101110701</span>, <span class="ruby-identifier">汉中</span><span class="ruby-value">101110801</span>, <span class="ruby-identifier">宝鸡</span><span class="ruby-value">101110901</span>, <span class="ruby-identifier">咸阳</span><span class="ruby-value">101110200</span>, <span class="ruby-identifier">渭南</span><span class="ruby-value">101110501</span>, <span class="ruby-identifier">太原</span><span class="ruby-value">101100101</span>, <span class="ruby-identifier">临汾</span><span class="ruby-value">101100701</span>, <span class="ruby-identifier">运城</span><span class="ruby-value">101100801</span>, <span class="ruby-identifier">朔州</span><span class="ruby-value">101100901</span>, <span class="ruby-identifier">忻州</span><span class="ruby-value">101101001</span>, <span class="ruby-identifier">长治</span><span class="ruby-value">101100501</span>, <span class="ruby-identifier">大同</span><span class="ruby-value">101100201</span>, <span class="ruby-identifier">阳泉</span><span class="ruby-value">101100301</span>, <span class="ruby-identifier">晋中</span><span class="ruby-value">101100401</span>, <span class="ruby-identifier">晋城</span><span class="ruby-value">101100601</span>, <span class="ruby-identifier">吕梁</span><span class="ruby-value">101101100</span>, <span class="ruby-identifier">乌鲁木齐</span><span class="ruby-value">101130101</span>, <span class="ruby-identifier">石河子</span><span class="ruby-value">101130301</span>, <span class="ruby-identifier">昌吉</span><span class="ruby-value">101130401</span>, <span class="ruby-identifier">吐鲁番</span><span class="ruby-value">101130501</span>, <span class="ruby-identifier">库尔勒</span><span class="ruby-value">101130601</span>, <span class="ruby-identifier">阿拉尔</span><span class="ruby-value">101130701</span>, <span class="ruby-identifier">阿克苏</span><span class="ruby-value">101130801</span>, <span class="ruby-identifier">喀什</span><span class="ruby-value">101130901</span>, <span class="ruby-identifier">伊宁</span><span class="ruby-value">101131001</span>, <span class="ruby-identifier">塔城</span><span class="ruby-value">101131101</span>, <span class="ruby-identifier">哈密</span><span class="ruby-value">101131201</span>, <span class="ruby-identifier">和田</span><span class="ruby-value">101131301</span>, <span class="ruby-identifier">阿勒泰</span><span class="ruby-value">101131401</span>, <span class="ruby-identifier">阿图什</span><span class="ruby-value">101131501</span>, <span class="ruby-identifier">博乐</span><span class="ruby-value">101131601</span>, <span class="ruby-identifier">克拉玛依</span><span class="ruby-value">101130201</span>, <span class="ruby-identifier">拉萨</span><span class="ruby-value">101140101</span>, <span class="ruby-identifier">山南</span><span class="ruby-value">101140301</span>, <span class="ruby-identifier">阿里</span><span class="ruby-value">101140701</span>, <span class="ruby-identifier">昌都</span><span class="ruby-value">101140501</span>, <span class="ruby-identifier">那曲</span><span class="ruby-value">101140601</span>, <span class="ruby-identifier">日喀则</span><span class="ruby-value">101140201</span>, <span class="ruby-identifier">林芝</span><span class="ruby-value">101140401</span>, <span class="ruby-identifier">台北县</span><span class="ruby-value">101340101</span>, <span class="ruby-identifier">高雄</span><span class="ruby-value">101340201</span>, <span class="ruby-identifier">台中</span><span class="ruby-value">101340401</span>, <span class="ruby-identifier">海口</span><span class="ruby-value">101310101</span>, <span class="ruby-identifier">三亚</span><span class="ruby-value">101310201</span>, <span class="ruby-identifier">东方</span><span class="ruby-value">101310202</span>, <span class="ruby-identifier">临高</span><span class="ruby-value">101310203</span>, <span class="ruby-identifier">澄迈</span><span class="ruby-value">101310204</span>, <span class="ruby-identifier">儋州</span><span class="ruby-value">101310205</span>, <span class="ruby-identifier">昌江</span><span class="ruby-value">101310206</span>, <span class="ruby-identifier">白沙</span><span class="ruby-value">101310207</span>, <span class="ruby-identifier">琼中</span><span class="ruby-value">101310208</span>, <span class="ruby-identifier">定安</span><span class="ruby-value">101310209</span>, <span class="ruby-identifier">屯昌</span><span class="ruby-value">101310210</span>, <span class="ruby-identifier">琼海</span><span class="ruby-value">101310211</span>, <span class="ruby-identifier">文昌</span><span class="ruby-value">101310212</span>, <span class="ruby-identifier">保亭</span><span class="ruby-value">101310214</span>, <span class="ruby-identifier">万宁</span><span class="ruby-value">101310215</span>, <span class="ruby-identifier">陵水</span><span class="ruby-value">101310216</span>, <span class="ruby-identifier">西沙</span><span class="ruby-value">101310217</span>, <span class="ruby-identifier">南沙岛</span><span class="ruby-value">101310220</span>, <span class="ruby-identifier">乐东</span><span class="ruby-value">101310221</span>, <span class="ruby-identifier">五指山</span><span class="ruby-value">101310222</span>, <span class="ruby-identifier">琼山</span><span class="ruby-value">101310102</span>, <span class="ruby-identifier">长沙</span><span class="ruby-value">101250101</span>, <span class="ruby-identifier">株洲</span><span class="ruby-value">101250301</span>, <span class="ruby-identifier">衡阳</span><span class="ruby-value">101250401</span>, <span class="ruby-identifier">郴州</span><span class="ruby-value">101250501</span>, <span class="ruby-identifier">常德</span><span class="ruby-value">101250601</span>, <span class="ruby-identifier">益阳</span><span class="ruby-value">101250700</span>, <span class="ruby-identifier">娄底</span><span class="ruby-value">101250801</span>, <span class="ruby-identifier">邵阳</span><span class="ruby-value">101250901</span>, <span class="ruby-identifier">岳阳</span><span class="ruby-value">101251001</span>, <span class="ruby-identifier">张家界</span><span class="ruby-value">101251101</span>, <span class="ruby-identifier">怀化</span><span class="ruby-value">101251201</span>, <span class="ruby-identifier">黔阳</span><span class="ruby-value">101251301</span>, <span class="ruby-identifier">永州</span><span class="ruby-value">101251401</span>, <span class="ruby-identifier">吉首</span><span class="ruby-value">101251501</span>, <span class="ruby-identifier">湘潭</span><span class="ruby-value">101250201</span>, <span class="ruby-identifier">南京</span><span class="ruby-value">101190101</span>, <span class="ruby-identifier">镇江</span><span class="ruby-value">101190301</span>, <span class="ruby-identifier">苏州</span><span class="ruby-value">101190401</span>, <span class="ruby-identifier">南通</span><span class="ruby-value">101190501</span>, <span class="ruby-identifier">扬州</span><span class="ruby-value">101190601</span>, <span class="ruby-identifier">宿迁</span><span class="ruby-value">101191301</span>, <span class="ruby-identifier">徐州</span><span class="ruby-value">101190801</span>, <span class="ruby-identifier">淮安</span><span class="ruby-value">101190901</span>, <span class="ruby-identifier">连云港</span><span class="ruby-value">101191001</span>, <span class="ruby-identifier">常州</span><span class="ruby-value">101191101</span>, <span class="ruby-identifier">泰州</span><span class="ruby-value">101191201</span>, <span class="ruby-identifier">无锡</span><span class="ruby-value">101190201</span>, <span class="ruby-identifier">盐城</span><span class="ruby-value">101190701</span>, <span class="ruby-identifier">哈尔滨</span><span class="ruby-value">101050101</span>, <span class="ruby-identifier">牡丹江</span><span class="ruby-value">101050301</span>, <span class="ruby-identifier">佳木斯</span><span class="ruby-value">101050401</span>, <span class="ruby-identifier">绥化</span><span class="ruby-value">101050501</span>, <span class="ruby-identifier">黑河</span><span class="ruby-value">101050601</span>, <span class="ruby-identifier">双鸭山</span><span class="ruby-value">101051301</span>, <span class="ruby-identifier">伊春</span><span class="ruby-value">101050801</span>, <span class="ruby-identifier">大庆</span><span class="ruby-value">101050901</span>, <span class="ruby-identifier">七台河</span><span class="ruby-value">101051002</span>, <span class="ruby-identifier">鸡西</span><span class="ruby-value">101051101</span>, <span class="ruby-identifier">鹤岗</span><span class="ruby-value">101051201</span>, <span class="ruby-identifier">齐齐哈尔</span><span class="ruby-value">101050201</span>, <span class="ruby-identifier">大兴安岭</span><span class="ruby-value">101050701</span>, <span class="ruby-identifier">长春</span><span class="ruby-value">101060101</span>, <span class="ruby-identifier">延吉</span><span class="ruby-value">101060301</span>, <span class="ruby-identifier">四平</span><span class="ruby-value">101060401</span>, <span class="ruby-identifier">白山</span><span class="ruby-value">101060901</span>, <span class="ruby-identifier">白城</span><span class="ruby-value">101060601</span>, <span class="ruby-identifier">辽源</span><span class="ruby-value">101060701</span>, <span class="ruby-identifier">松原</span><span class="ruby-value">101060801</span>, <span class="ruby-identifier">吉林</span><span class="ruby-value">101060201</span>, <span class="ruby-identifier">通化</span><span class="ruby-value">101060501</span>, <span class="ruby-identifier">沈阳</span><span class="ruby-value">101070101</span>, <span class="ruby-identifier">鞍山</span><span class="ruby-value">101070301</span>, <span class="ruby-identifier">抚顺</span><span class="ruby-value">101070401</span>, <span class="ruby-identifier">本溪</span><span class="ruby-value">101070501</span>, <span class="ruby-identifier">丹东</span><span class="ruby-value">101070601</span>, <span class="ruby-identifier">葫芦岛</span><span class="ruby-value">101071401</span>, <span class="ruby-identifier">营口</span><span class="ruby-value">101070801</span>, <span class="ruby-identifier">阜新</span><span class="ruby-value">101070901</span>, <span class="ruby-identifier">辽阳</span><span class="ruby-value">101071001</span>, <span class="ruby-identifier">铁岭</span><span class="ruby-value">101071101</span>, <span class="ruby-identifier">朝阳</span><span class="ruby-value">101071201</span>, <span class="ruby-identifier">盘锦</span><span class="ruby-value">101071301</span>, <span class="ruby-identifier">大连</span><span class="ruby-value">101070201</span>, <span class="ruby-identifier">锦州</span><span class="ruby-value">101070701</span>} 
        <span class="ruby-identifier">data</span> = <span class="ruby-constant">ChinaCitiesHour</span>.<span class="ruby-identifier">get_all_real_data</span>
        <span class="ruby-identifier">datac</span>=<span class="ruby-identifier">data</span>.<span class="ruby-identifier">map</span>{ <span class="ruby-operator">|</span><span class="ruby-identifier">data</span><span class="ruby-operator">|</span> { <span class="ruby-identifier">city_name</span><span class="ruby-operator">:</span> <span class="ruby-identifier">data</span>[<span class="ruby-value">:city_name</span>],<span class="ruby-identifier">longitude</span><span class="ruby-operator">:</span> <span class="ruby-identifier">data</span>[<span class="ruby-value">:longitude</span>],<span class="ruby-identifier">latitude</span><span class="ruby-operator">:</span> <span class="ruby-identifier">data</span>[<span class="ruby-value">:latitude</span>],<span class="ruby-identifier">data</span><span class="ruby-operator">:</span> <span class="ruby-identifier">get_real_weahter</span>( <span class="ruby-identifier">city_number</span>[((<span class="ruby-identifier">data</span>[<span class="ruby-value">:city_name</span>].<span class="ruby-identifier">include?</span> <span class="ruby-string">&#39;市&#39;</span>) <span class="ruby-operator">?</span> (<span class="ruby-identifier">data</span>[<span class="ruby-value">:city_name</span>].<span class="ruby-identifier">delete</span>(<span class="ruby-string">&#39;市&#39;</span>)) <span class="ruby-operator">:</span> <span class="ruby-identifier">data</span>[<span class="ruby-value">:city_name</span>]).<span class="ruby-identifier">to_sym</span>]) } }
        <span class="ruby-identifier">respond_to</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">format</span><span class="ruby-operator">|</span>
                <span class="ruby-identifier">format</span>.<span class="ruby-identifier">html</span> { <span class="ruby-identifier">render</span> <span class="ruby-identifier">json</span><span class="ruby-operator">:</span> <span class="ruby-identifier">datac</span>}
                <span class="ruby-keyword">if</span> <span class="ruby-identifier">params</span>[<span class="ruby-value">:callback</span>]
                        <span class="ruby-identifier">format</span>.<span class="ruby-identifier">js</span> { <span class="ruby-identifier">render</span> <span class="ruby-value">:json</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">datac</span>.<span class="ruby-identifier">to_json</span>, <span class="ruby-value">:callback</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">params</span>[<span class="ruby-value">:callback</span>] }
                <span class="ruby-keyword">else</span>
                        <span class="ruby-identifier">format</span>.<span class="ruby-identifier">json</span> { <span class="ruby-identifier">render</span> <span class="ruby-identifier">json</span><span class="ruby-operator">:</span> <span class="ruby-identifier">datac</span>}
                <span class="ruby-keyword">end</span>
        <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-monitor_data" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">monitor_data</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="monitor_data-source">
            <pre><span class="ruby-comment"># File app/controllers/querys_controller.rb, line 221</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">monitor_data</span>
        <span class="ruby-keyword">if</span> <span class="ruby-identifier">params</span>[<span class="ruby-value">:city_name</span>]
                <span class="ruby-identifier">data</span> = <span class="ruby-constant">ChinaCitiesHour</span>.<span class="ruby-identifier">get_real_monitor_data</span>(<span class="ruby-identifier">params</span>[<span class="ruby-value">:city_name</span>])
        <span class="ruby-keyword">else</span>
                <span class="ruby-identifier">data</span> = <span class="ruby-constant">ChinaCitiesHour</span>.<span class="ruby-identifier">get_all_real_data</span>
        <span class="ruby-keyword">end</span>


        <span class="ruby-identifier">respond_to</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">format</span><span class="ruby-operator">|</span>
                <span class="ruby-identifier">format</span>.<span class="ruby-identifier">html</span> { <span class="ruby-identifier">render</span> <span class="ruby-identifier">json</span><span class="ruby-operator">:</span> <span class="ruby-identifier">data</span>}
                <span class="ruby-keyword">if</span> <span class="ruby-identifier">params</span>[<span class="ruby-value">:callback</span>]
                        <span class="ruby-identifier">format</span>.<span class="ruby-identifier">js</span> { <span class="ruby-identifier">render</span> <span class="ruby-value">:json</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">data</span>.<span class="ruby-identifier">to_json</span>, <span class="ruby-value">:callback</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">params</span>[<span class="ruby-value">:callback</span>] }
                <span class="ruby-keyword">else</span>
                        <span class="ruby-identifier">format</span>.<span class="ruby-identifier">json</span> { <span class="ruby-identifier">render</span> <span class="ruby-identifier">json</span><span class="ruby-operator">:</span> <span class="ruby-identifier">data</span>}
                <span class="ruby-keyword">end</span>
        <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-parse_xml" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">parse_xml</span><span
            class="method-args">(doc, node)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="parse_xml-source">
            <pre><span class="ruby-comment"># File app/controllers/querys_controller.rb, line 212</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">parse_xml</span>(<span class="ruby-identifier">doc</span>, <span class="ruby-identifier">node</span>)
        <span class="ruby-keyword">if</span> <span class="ruby-identifier">node</span><span class="ruby-operator">==</span><span class="ruby-string">&#39;aqi&#39;</span>
                <span class="ruby-identifier">n</span>=<span class="ruby-identifier">doc</span>.<span class="ruby-identifier">at_css</span>(<span class="ruby-string">&quot;environment aqi&quot;</span>)
        <span class="ruby-keyword">else</span>
                <span class="ruby-identifier">n</span> = <span class="ruby-identifier">doc</span>.<span class="ruby-identifier">at_css</span>(<span class="ruby-identifier">node</span>)
        <span class="ruby-keyword">end</span>
        <span class="ruby-identifier">n</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">n</span>.<span class="ruby-identifier">text</span> <span class="ruby-operator">:</span> <span class="ruby-string">&#39;&#39;</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
    </section>
  
  </section>
</main>


<footer id="validator-badges" role="contentinfo">
  <p><a href="http://validator.w3.org/check/referer">Validate</a>
  <p>Generated by <a href="http://docs.seattlerb.org/rdoc/">RDoc</a> 4.2.0.
  <p>Based on <a href="http://deveiate.org/projects/Darkfish-RDoc/">Darkfish</a> by <a href="http://deveiate.org">Michael Granger</a>.
</footer>

